.audio-visualizer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;
  pointer-events: none;
  /* CSS glow effect to simulate bloom - uses CSS variable set by BloomController */
  filter: blur(0.5px) brightness(calc(1 + var(--bloom-intensity, 0.1)));
}

.audio-visualizer canvas {
  display: block;
}

/* Transition for opacity changes during mode switching */
.audio-visualizer {
  transition: filter 0.1s ease;
}

/* Subtle animation when not playing */
.audio-visualizer.idle {
  opacity: 0.4;
  filter: blur(0.5px) brightness(1.05);
}

/* Full visibility when playing */
.audio-visualizer.playing {
  opacity: 1;
}

/* Mobile: hide visualizer for performance */
@media (max-width: 768px) {
  .audio-visualizer {
    display: none;
  }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .audio-visualizer {
    display: none;
  }
}
